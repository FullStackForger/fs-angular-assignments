!function(){function BillController(billService){function init(){vm.selection="subscriptions",billService.getBill().then(parseBill,function(error){vm.errorMessage="Bill not available. Please contact SKY for details."})}function parseBill(bill){vm.statement=bill.statement,vm.total=bill.total,vm["package"]=bill["package"],vm.callCharges=bill.callCharges,vm.skyStore=bill.skyStore}var vm=this;init()}function BillServiceProvider(){var dataUrl;this.setUrl=function(url){dataUrl=url},this.$get=["$http","$q",function($http,$q){function getBill(){var deferred=$q.defer();return $http.get(dataUrl).then(function(response){deferred.resolve(response.data)},function(error){deferred.resolve("Something went wrong. Try again later!")}),deferred.promise}return{getBill:getBill,url:dataUrl}}]}function HomeController($http){function handleResponse(response){vm.content=response.data}function handleError(error){vm.content="Something went wrong. Try again later!"}var vm=this;vm.readmeRawURL="https://raw.githubusercontent.com/indieforger/fs-angular-assignments/master/README.md",vm.readmeURL="https://github.com/indieforger/fs-angular-assignments/blob/master/README.md",vm.parserURL="https://github.com/showdownjs/ng-showdown",$http.get(vm.readmeRawURL).then(handleResponse,handleError)}function HotelsController($http,$filter,$timeout){function updateHotels(){vm.hotels=$filter("filter")(vm.hotelsData,vm.filter)}var vm=this;$http({method:"GET",url:"/app/modules/hotels/data/hotels.json"}).then(function(response){vm.hotels=response.data.Establishments,vm.hotels.forEach(function(hotel){var i,stars="";for(i=0;i<hotel.Stars;i++)stars+="*";hotel.StarsString=stars}),vm.hotelsData=vm.hotels,vm.loading=!1},function(response){}),vm.resetFilter=function(){vm.filter={}};var timer;vm.updateFilter=function(){$timeout.cancel(timer),timer=$timeout(updateHotels,500)},vm.loading=!0,vm.predicate="Stars",vm.reverse=!0,vm.filter="",vm.filterType="$",vm.resultLimit="20",vm.filterTypes=[{type:"$",name:"Any"},{type:"Name",name:"Name"},{type:"Stars",name:"Stars"},{type:"UserRating",name:"Average Rating"},{type:"MinCost",name:"Minimum Cost"}],vm.resultLimits=[10,20,50,100,200],vm.order=function(predicate){vm.reverse=vm.predicate===predicate?!vm.reverse:!1,vm.predicate=predicate}}angular.module("app.modules.bill",["ngRoute"]).config(["$routeProvider","billServiceProvider",function($routeProvider,billServiceProvider){$routeProvider.when("/bill",{templateUrl:"app/modules/bill/bill.html",controller:"BillController as billCtrl"}),billServiceProvider.setUrl("https://still-scrubland-9880.herokuapp.com/bill.json")}]),angular.module("app.modules.home",["ngRoute","ng-showdown"]).config(["$routeProvider",function($routeProvider){$routeProvider.when("/home",{templateUrl:"app/modules/home/home.html",controller:"HomeController as vm"})}]),angular.module("app.modules.hotels",["ngRoute"]).config(["$routeProvider",function($routeProvider){$routeProvider.when("/hotels",{templateUrl:"app/modules/hotels/hotels.html",controller:"HotelsController"})}]),angular.module("app",["ngRoute","ui.bootstrap","app.modules.home","app.modules.hotels","app.modules.bill"]).config(["$routeProvider",function($routeProvider){$routeProvider.otherwise({redirectTo:"/home"})}]),angular.module("app.modules.bill").controller("BillController",BillController),BillController.$inject=["billService"],angular.module("app.modules.bill").directive("billDetails",function(){return{restrict:"E",templateUrl:"app/modules/bill/internal/bill-details-directive.tpl.html",scope:{labels:"=",dataset:"=",fields:"=",total:"="},replace:!1}}),angular.module("app.modules.bill").provider("billService",BillServiceProvider),angular.module("app.modules.home").controller("HomeController",HomeController),HomeController.$inject=["$http"],angular.module("app.modules.hotels").directive("hotelInfo",function(){return{restrict:"E",templateUrl:"app/modules/hotels/hotel-info.tpl.html"}}),angular.module("app.modules.hotels").controller("HotelsController",HotelsController),HotelsController.$inject=["$http","$filter","$timeout"]}();
//# sourceMappingURL=app.min.js.map